<?php 

    // Calificaciones de cada materia

    $primer_semestre = [
        ['clave' => 'B101',
        'nombre' => 'Fundamentos de programacion',
        'fecha' => 'Jun 23 2022',
        'periodo' => '22/2',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 6
        ],

        ['clave' => 'B102',
        'nombre' => 'Matematicas Discretas',
        'fecha' => 'Jun 23 2022',
        'periodo' => '22/2',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 8
        ],

        ['clave' => 'B103',
        'nombre' => 'Comunicacion Oral y Escrita',
        'fecha' => 'Jun 23 2022',
        'periodo' => '22/2',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 8
        ],

        ['clave' => 'B104',
        'nombre' => 'Calculo',
        'fecha' => 'Jun 23 2022',
        'periodo' => '22/2',
        'formaEvaluacion' => 'EXT',
        'calificacion' => 6
        ],

        ['clave' => 'B105',
        'nombre' => 'Mecanica y Electromagnetismo',
        'fecha' => 'Jun 23 2022',
        'periodo' => '22/2',
        'formaEvaluacion' => 'EXT',
        'calificacion' => 8
        ],

        ['clave' => 'B106',
        'nombre' => 'Fundamentos Economicos',
        'fecha' => 'Jun 23 2022',
        'periodo' => '22/2',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 10
        ],
    ];

    $segundo_semestre = [
        ['clave' => 'B201',
        'nombre' => 'Algoritmos y Estructuras de Datos',
        'fecha' => 'Ene 25 2023',
        'periodo' => '23/1',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 7
        ],

        ['clave' => 'B202',
        'nombre' => 'Algebra Lineal',
        'fecha' => 'Ene 25 2023',
        'periodo' => '23/1',
        'formaEvaluacion' => 'EXT',
        'calificacion' => 7
        ],

        ['clave' => 'B203',
        'nombre' => 'Fundamentos de Diseño Digital',
        'fecha' => 'Ene 25 2023',
        'periodo' => '23/1',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 6
        ],

        ['clave' => 'B204',
        'nombre' => 'Calculo Multivariable',
        'fecha' => 'Ene 25 2023',
        'periodo' => '23/1',
        'formaEvaluacion' => 'EQV',
        'calificacion' => 8
        ],

        ['clave' => 'B205',
        'nombre' => 'Ingenieria, Etica y Sociedad',
        'fecha' => 'Ene 25 2023',
        'periodo' => '23/1',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 10
        ],

        ['clave' => 'B206',
        'nombre' => 'Finanzas Empresariales',
        'fecha' => 'Ene 25 2023',
        'periodo' => '23/1',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 7
        ],
    ];

    $tercer_semestre = [
        ['clave' => 'B301',
        'nombre' => 'Analisis y Diseño de Algoritmo',
        'fecha' => 'Jul 3 2023',
        'periodo' => '23/2',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 8
        ],

        ['clave' => 'B302',
        'nombre' => 'Paradigmas de Programacion',
        'fecha' => 'Jul 3 2023',
        'periodo' => '23/2',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 8
        ],

        ['clave' => 'B303',
        'nombre' => 'Ecuaciones Diferenciales',
        'fecha' => 'Jul 3 2023',
        'periodo' => '23/2',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 8
        ],

        ['clave' => 'B304',
        'nombre' => 'Bases de Datos',
        'fecha' => 'Jul 3 2023',
        'periodo' => '23/2',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 7
        ],

        ['clave' => 'B305',
        'nombre' => 'Diseño de Sistema Digitales',
        'fecha' => 'Jul 3 2023',
        'periodo' => '23/2',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 7
        ],

        ['clave' => 'B306',
        'nombre' => 'Liderazgo Personal',
        'fecha' => 'Jul 3 2023',
        'periodo' => '23/2',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 9
        ],
        
    ];

    $cuarto_semestre = [
        ['clave' => 'B401',
        'nombre' => 'Fundamentos de Inteligencia Artificial',
        'fecha' => 'Ene 22 2024',
        'periodo' => '24/1',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 7
        ],

        ['clave' => 'B402',
        'nombre' => 'Probabilidad y Estadística',
        'fecha' => 'Ene 22 2024',
        'periodo' => '24/1',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 6
        ],

        ['clave' => 'B403',
        'nombre' => 'Matemáticas Avanzadas para la Ingeniería',
        'fecha' => 'Ene 22 2024',
        'periodo' => '24/1',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 0
        ],

        ['clave' => 'B404',
        'nombre' => 'Tecnologías para el Desarrollo de Aplicaciones Web',
        'fecha' => 'Ene 22 2024',
        'periodo' => '24/1',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 3
        ],

        ['clave' => 'B405',
        'nombre' => 'Análisis y Diseño de Sistemas',
        'fecha' => 'Ene 22 2024',
        'periodo' => '24/1',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 7
        ],

        ['clave' => 'B406',
        'nombre' => 'Procesamiento Digitila de Imágenes',
        'fecha' => 'Ene 22 2024',
        'periodo' => '24/1',
        'formaEvaluacion' => 'ORD',
        'calificacion' => 8
        ],
        
    ];

    // Calcular los promedios 

    $prom_primer_semestre = 0;

    foreach($primer_semestre as $materia){
        $prom_primer_semestre += $materia['calificacion'];
    }

    $prom_primer_semestre = $prom_primer_semestre / count($primer_semestre);
    $prom_primer_semestre = bcdiv($prom_primer_semestre, 1, 2);

    $prom_segundo_semestre= 0;

    foreach($segundo_semestre as $materia){
        $prom_segundo_semestre+= $materia['calificacion'];
    }

    $prom_segundo_semestre= $prom_segundo_semestre/ count($segundo_semestre);
    $prom_segundo_semestre= bcdiv($prom_segundo_semestre, 1, 2);

    $prom_tercer_semetre = 0;

    foreach($tercer_semestre as $materia){
        $prom_tercer_semetre += $materia['calificacion'];
    }

    $prom_tercer_semetre = $prom_tercer_semetre / count($tercer_semestre);
    $prom_tercer_semetre = bcdiv($prom_tercer_semetre, 1, 2);

    
    $prom_cuarto_semetre = 0;

    foreach($cuarto_semestre as $materia){
        $prom_cuarto_semetre += $materia['calificacion'];
    }

    $prom_cuarto_semetre = $prom_cuarto_semetre / count($cuarto_semestre);
    $prom_cuarto_semetre = bcdiv($prom_cuarto_semetre, 1, 2);


    $promedio = ($prom_primer_semestre + $prom_segundo_semestre+ $prom_tercer_semetre +$prom_cuarto_semetre) / 4;
    $promedio = bcdiv($promedio, 1, 2);

    // Materias aprobadas

    $Aprobadas_primer_semestre = 0;
    foreach($primer_semestre as $materia){
        if($materia['calificacion'] >= 6){
            $Aprobadas_primer_semestre++;
        }
    }

    $Aprobadas_segundo_semestre = 0;
    foreach($segundo_semestre as $materia){
        if($materia['calificacion'] >= 6){
            $Aprobadas_segundo_semestre++;
        }
    }

    $Aprobadas_tercer_semestre = 0;
    foreach($tercer_semestre as $materia){
        if($materia['calificacion'] >= 6){
            $Aprobadas_tercer_semestre++;
        }
    }

    $Aprobadas_cuarto_semestre = 0;
    foreach($cuarto_semestre as $materia){
        if($materia['calificacion'] >= 6){
            $Aprobadas_cuarto_semestre++;
        }
    }

   $Total_aprobadas = $Aprobadas_primer_semestre + $Aprobadas_segundo_semestre + $Aprobadas_tercer_semestre + $Aprobadas_cuarto_semestre;

    // Materias reprobadas

    $Reprobadas_primer_semeste = 0;
    foreach($primer_semestre as $materia){
        if($materia['calificacion'] < 6){
            $Reprobadas_primer_semeste++;
        }
    }

    $Reprobadas_segundo_semeste= 0;
    foreach($segundo_semestre as $materia){
        if($materia['calificacion'] < 6){
            $Reprobadas_segundo_semeste++;
        }
    }

    $Reprobadas_tercer_semeste = 0;

    foreach($tercer_semestre as $materia){
        if($materia['calificacion'] < 6){
            $Reprobadas_tercer_semeste++;
        }
    }

    $Reprobadas_cuarto_semeste = 0;

    foreach($cuarto_semestre as $materia){
        if($materia['calificacion'] < 6){
            $Reprobadas_cuarto_semeste++;
        }
    }

    $Total_reprobadas = $Reprobadas_primer_semeste + $Reprobadas_segundo_semeste + $Reprobadas_tercer_semeste + $Reprobadas_cuarto_semeste;

    ?>